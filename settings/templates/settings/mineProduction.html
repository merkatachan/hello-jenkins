{% include "home/header.html" %}

{% load index %}
{% load get_item %}

	<div class="row">

		<div class="col-sm-4">
		</div>

		<div class='col-sm-4'>
			<br>
			<br>

			<form class="form-signup" role="form" action="{% url 'settings:editMinePlan' %}" method="POST">
				<center>
		        <h2 class="form-signup-heading">Mine Production:</h2>
		        </center>
		        <br>
		        {% csrf_token %}

				<input type="hidden" value="{{ LOM }}" name="LOM" />

		        <br>
				<br>

		</div>

		<div class="col-sm-4">
		</div>

	</div>

	<div class="table-responsive">
  		<table class="table table-bordered">
    		<thead> 
    			<tr> 
    				<th>Mine Plan Tonnage</th>
    				{% for i in "x"|rjust:LOM %}
    					<th>Year {{ forloop.counter0|add:"1" }}</th>
    				{% endfor %}
    			</tr> 
    		</thead>
    		<tbody>
            {% if 1 in mineProducts %}
                <tr>
                    <th>High Grade Ore</th>
                    {% for i in "x"|rjust:LOM %}
                        <td><input id="id_year{{ forloop.counter0|add:'1' }}MinePlanHighGradeTonnage" name="year{{ forloop.counter0|add:'1' }}MinePlanHighGradeTonnage" placeholder="Max 2 Decimals" step="0.01" type="number" value="{{ minePlanHGTonnages|index:forloop.counter0 }}" required=""></td>
                    {% endfor %}
                </tr>
            {% endif %}

            {% if 2 in mineProducts %}
                <tr>
                    <th>Low Grade Ore</th>
                    {% for i in "x"|rjust:LOM %}
                        <td><input id="id_year{{ forloop.counter0|add:'1' }}MinePlanLowGradeTonnage" name="year{{ forloop.counter0|add:'1' }}MinePlanLowGradeTonnage" placeholder="Max 2 Decimals" step="0.01" type="number" value="{{ minePlanLGTonnages|index:forloop.counter0 }}" required=""></td>
                    {% endfor %}
                </tr>
            {% endif %}

            {% if 3 in mineProducts %}
                <tr>
                    <th>Waste</th>
                    {% for i in "x"|rjust:LOM %}
                        <td><input id="id_year{{ forloop.counter0|add:'1' }}MinePlanWasteTonnage" name="year{{ forloop.counter0|add:'1' }}MinePlanWasteTonnage" placeholder="Max 2 Decimals" step="0.01" type="number" value="{{ minePlanWasteTonnages|index:forloop.counter0 }}" required=""></td>
                    {% endfor %}
                </tr>
            {% endif %}

            {% if 4 in mineProducts %}
                <tr>
                    <th>Overburden</th>
                    {% for i in "x"|rjust:LOM %}
                        <td><input id="id_year{{ forloop.counter0|add:'1' }}MinePlanOverburdenTonnage" name="year{{ forloop.counter0|add:'1' }}MinePlanOverburdenTonnage" placeholder="Max 2 Decimals" step="0.01" type="number" value="{{ minePlanOverburdenTonnages|index:forloop.counter0 }}" required=""></td>
                    {% endfor %}
                </tr>
            {% endif %}    			
    		</tbody>
  		</table>

        <table class="table table-bordered">
            <thead> 
                <tr>
                    <th>Mine Plan Grade</th>
                    {% for i in "x"|rjust:LOM %}
                        <th>Year {{ forloop.counter0|add:"1" }}</th>
                    {% endfor %}
                </tr> 
            </thead>
            <tbody>
                {% for name in commNameList %}
                    <tr>
                        <th>High Grade {{ name }} (%)</th>
                        {% for j in "x"|rjust:LOM %}
                            <td><input id="id_year{{ forloop.counter0|add:'1' }}MinePlanHGGrade{{ name }}" name="year{{ forloop.counter0|add:'1' }}MinePlanHGGrade{{ name }}" placeholder="Max 6 Decimals" step="0.000001" value="{{ minePlanHGGrades|get_item:name|index:forloop.counter0 }}" type="number" required=""></td>
                        {% endfor %}
                    </tr>
                {% endfor %}
                {% for name in commNameList %}
                    <tr>
                        <th>Low Grade {{ name }} (%)</th>
                        {% for j in "x"|rjust:LOM %}
                            <td><input id="id_year{{ forloop.counter0|add:'1' }}MinePlanLGGrade{{ name }}" name="year{{ forloop.counter0|add:'1' }}MinePlanLGGrade{{ name }}" placeholder="Max 6 Decimals" step="0.000001" value="{{ minePlanLGGrades|get_item:name|index:forloop.counter0 }}" type="number" required=""></td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
	</div>

	<div class="row">

		<div class="col-sm-4">
		</div>

		<div class="col-sm-4">
			<center>
			<button class="btn btn-group-lg btn-primary" type="button" onClick="history.go(-1);return true;">Cancel</button>
			<button class="btn btn-group-lg btn-primary" type="submit">Save Changes</button>
			</form>
			</center>
			
		</div>
	

		<div class="col-sm-4">
		</div>

	</div>
    <br>

{% include "home/footer.html" %}